import{i as b}from"./index-B1-6Nd2h.js";import{_ as i,B as y}from"./ButtonForm-ZvVUSRbb.js";import{a as d,_ as U}from"./axios-cMcX0P3F.js";import{_ as k,g as x}from"./goTo-t69S6qUI.js";import{d as B,r,l as C,b as E,w as u,c as P,e as t,a as m,F as D,g as R,o as S}from"./index-C60wjN5s.js";const w={class:"px-5"},T={class:"flex justify-center items-center mt-[50px]"},M=B({__name:"VehicleRegister",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(p){const n=r("https://park-safe-api.onrender.com/api"),a=r({user_id:"",licensePlate:"",description:""}),g=R(),c=r([""]),s=C(p,"modelValue"),V=async()=>{try{const e=(await d.get(`${n.value}/user`)).data;console.log(e),c.value=e}catch(e){console.error("Error al obtener el ticket:",e)}},f=()=>{b.success("Vehículo registrado con exito!",{theme:"colored",autoClose:2e3,onClose:()=>{x(g,"ticket-generate")},position:"bottom-center"})},v=async e=>{try{const o=(await d.post(`${n.value}/vehicle`,e)).data;console.log(o),f(),console.log("YA ESTA LISTO")}catch(o){console.error("Error al obtener el ticket:",o)}},_=()=>{v(a.value)},h=()=>{console.log("Se ha cambiado la opcion del Select")};return E(async()=>{await V()}),u(a.value,e=>{console.log(e)},{deep:!0}),u(s,e=>{console.log("NUEVO valor de model ==>>",e),console.log("NUEVO valor de value.vehicles ==>>",e.vehicles),a.value.user_id=e.id},{deep:!0}),(e,o)=>(S(),P(D,null,[t(U,{title:"Registrar Vehiculo"}),m("section",w,[t(k,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),onChange:h,label:"Usuario","data-options":c.value,typeData:"user"},null,8,["modelValue","data-options"]),t(i,{modelValue:a.value.licensePlate,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.licensePlate=l),id:"Placa",name:"Placa",label:"Placa",placeholder:"Ingresar Placa",type:"text"},null,8,["modelValue"]),t(i,{modelValue:a.value.description,"onUpdate:modelValue":o[2]||(o[2]=l=>a.value.description=l),id:"Description",name:"Description",label:"Description",placeholder:"Ingresar Descripción, marca, modelo, color"},null,8,["modelValue"])]),m("div",T,[t(y,{label:"Registrar",buttonType:"inputForm",size:"standard-form",onClick:_})])],64))}});export{M as default};
